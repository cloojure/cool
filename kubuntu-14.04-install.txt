
- Create LiveCD on a USB drive using either dd (from linux) or liveusb-creator
  - Nothing appears.  Power cycle & start over
  - Select "Troubleshooting"
    -> Select "Begin in Basic Graphics Mode"

- Click "Install to Hard Drive"
- Select your language, then click Continue.
- Set up Timezone, Install Disks, Keyboard, and Networking/Hostname
- Click "Begin Installation"
- While the installer is copying software, configure the root password and add the initial
  user by clicking on the corresponding icons.  Be sure to check "Make Administrator".
  This allows you to install software, etc using your local password instead of the root
  password.
- When installation is complete, you must click the "Quit" button to exit the installer.
  You must then reboot the machine by going to the top-right corner, clicking on
  Desktop->Leave, then selecting Reboot.  Be sure to remove the USB stick with the Live CD
  first!
- Reboot, and login with your username/password.
  - I don't like the "Desktop Folder" in KDE, so I use the X to delete it from the desktop

My computer has an NVidea card (EVGA brand).  At install or upgrade, Linux sometimes
doesn't work correctly with the card and instead reverts to using the built-in graphics.  
  - You should keep a VGA cable plugged into the computer and connected to the VGA input
    port of a monitor.  If the computer boots to a blank screen, switch the monitor to the
    VGA input until you (re-)install the latest linux driver from the NVidia website.

To boot into console (text) mode (no GUI), wait until the boot screen comes up.  The word
"Ubuntu" will be highlight during a 10 sec countdown.  
  - Use the up/down arrow keys to stop the countdown. Hightlight "Ubuntu"
  - Type "e" to Edit the command
  - Find the words "quiet splash" in a command near the bottom
  - Using the arrow keys and backspace, change "quiet splash" -> "text"
  - Continue boot using either Crtl-X or F10

When performing an OS install or other significant OS upgrade, the video card may quit
working altogether. Since the video card is typically connected to the monitor using HDMI,
DisplayPort, or DVI ports/cables, this will leave you puzzled & staring at a blank screen.
In that case, you must connect the built-in video out (e.g. VGA/DSub) to the monitor so
that you can (re-)install the video driver.

The following doesn't seem to work (blank screen):
  In Ubuntu, single-user console is "runlevel" 1:  sudo telinit 1

--------------------------------------------------------------------------------
  linux ...   rw init=/bin/bash

--------------------------------------------------------------------------------

- Start the native browser Konqueror. Do a Google search for "Google Chrome", download the
  64-bit *.rpm file and install it using the native installer "apper".  Fire it up and
  make the default browser.
  - When it asks about KDE Wallet System, select "blowfish". Enter a simple password.
  - For some reason, it sometimes gives you the *.deb file instead of the required *.rpm
    file even when Fedora is selected.  If so, the install will fail.  Try again & it'll
    probably work (give the *.rpm file)

- Update all software (~ 30 min)
  - Software Management -> Updates -> Check for Updates:  Install all found)

- Install basic software using yum:
    sudo apt install -y  \
      lsb \
      vim git zsh tcsh fish tmux curl  \
      vim-gui-common \
      gcc python ruby \
      octave libreoffice \
      tree htop iotop collectl \
      zip unzip dos2unix kuser \
      alien youtube-dl sbackup rlwrap \
      okular lzop parallel docker.io \
      vpnc kvpnc network-manager-vpnc racoon \

- Repositories listed in:  
      /etc/apt/sources.list              - main file (append new repo's if desired)
      /etc/apt/sources.list.d/*.list     - any file that like this pattern
      # example
      > ls  /etc/apt/sources.list.d/*
            /etc/apt/sources.list.d/atlassian-hipchat.list
            /etc/apt/sources.list.d/atlassian-hipchat.list.distUpgrade
            /etc/apt/sources.list.d/atlassian-hipchat.list.save
            /etc/apt/sources.list.d/docker.list
            /etc/apt/sources.list.d/dropbox.list
            /etc/apt/sources.list.d/dropbox.list.distUpgrade
            /etc/apt/sources.list.d/dropbox.list.save
            /etc/apt/sources.list.d/google-chrome.list
            /etc/apt/sources.list.d/google-chrome.list.distUpgrade
            /etc/apt/sources.list.d/google-chrome.list.save
            /etc/apt/sources.list.d/google-talkplugin.list
            /etc/apt/sources.list.d/pgdg.list
            /etc/apt/sources.list.d/pgdg.list.distUpgrade
            /etc/apt/sources.list.d/pgdg.list.save
            /etc/apt/sources.list.d/postgresql.list
            /etc/apt/sources.list.d/postgresql.list.save
            /etc/apt/sources.list.d/webupd8team-ubuntu-java-wily.list


- Docker - follow website instructions
    docker
    docker-compose

- CENX vpnc file: ~/cool/etc--vpnc--cenx.conf  -> /etc/vpnc

- Postgres
      postgresql (get latest from postgresql.org)

- Media codecs
  sudo apt install -y ubuntu-restricted-extras

- Uncomplicated Firewall (UFW)
  sudo apt install -y ufw gufw

- For Oracle client on AWS we need:
  sudo apt install -y libaio1         - async I/O (note can use "apt search libaio")
  sudo alien -i oracle-instantclient12.1-basic-12.1.0.2.0-1.x86_64.rpm
  sudo alien -i oracle-instantclient12.1-sqlplus-12.1.0.2.0-1.x86_64.rpm
  sudo alien -i oracle-instantclient12.1-devel-12.1.0.2.0-1.x86_64.rpm
    See:  https://help.ubuntu.com/community/Oracle%20Instant%20Client

- rebuild current git 2.2.1 or later (from source)

- Install NVidia Drivers
  - NVidia drivers require the package "kernel-devel" from Fedora.  Install it using
    Software Management -> Installed Software.  Search for "kernel", select
    kernel-devel & kernel-debug.  Install.  
  - Also install gcc:  sudo yum install -y gcc (or graphical)
  - You must reboot at this point so the kernel-devel stuff is visible.
  - Download latest from NVidia Linux site (google it). I prefer the "short lived" branch
    as it has all of the newest stuff.
  - You must install from the console, runlevel 3 (single-user mode):  "sudo init 3"
  - Go to the download dir, and type "sudo /bin/bash NVIDIA-Linux-X86_64-XXX.YY.run" where
    setting XXX.YY to match your download.

- Skype no longer seems to work on Fedora 20/21.  It will fail (seg fault) due to 32-bit
  vs 64-bit conflicts. It used to work on F20, so I don't know why it won't anymore.

- Ubuntu Software Center install
    GVim
    LibreOffice

- Other software: go to website to install
    Dropbox
    HipChat
    java
    liquibase
    solr
    datomic
    cassandra
    hadoop
    spark
    IntelliJ IDEA
    cursive

- Go to the lower-left "F" icon (for Fedora), select Favorites->Software Management, click
  Updates->Check for New Updates.  Install any detected.
- From now on, sequences like Fedora -> Favorites -> System Settings will be truncated to
  just "System Settings"
- System Settings -> Window Behavior -> Window Behavior -> Focus
    - Select "Focus Follows Mouse - Mouse Precedence" (about 60% position)
    - Set "Delay Focus" to 100 ms or less (I don't like delays!)
    - Display Configuration 
      - Screen Locker
    - Input Devices 
      - Mouse -> Advanced -> Pointer Acceleration: reduce from 2.0 to 1.5
      - Keyboard -> Hardware -> NumLock on KDE Startup: set ON
    - Multimedia -> Audio & Video Settings -> Device Preference -> Audio Playback
      - Ensure "Built-in Audio Analog Stereo" is first preference for all
    - Multimedia -> Audio & Video Settings -> Device Preference -> Audio Recording
      - Ensure "HD Pro Webcam C920 Analog Stereo" is first preference for all
    - Multimedia -> Audio & Video Settings -> Audio Hardware Setup
      - Sound Card: select "Built-in Audio" & "Analog Stereo Output"
      - Device Configuration: select "Playback (Built-in Audio Analog Stereo)" & "Line Out"

- Set Konsole defaults
  - Edit Current Profile
    - Shell: /bin/zsh
    - Scrolling: 99999 lines
    - Scrollbar: left
  - Configure Konsole
    - Tab Bar: Always Show, Tabs Above Terminal Area

- Set wallpaper
  - Right-click on background Default Desktop Settings -> View -> "Get New Wallpapers"
    - Selecting INSTALL for each wallpaper copies it to your computer
  - Right-click on background Default Desktop Settings -> View 
    - Select the desired image for that screen, then click OK.  Repeat on other screens.

- If you fail to check "Make Administrator", you won't be able to use sudo. You will have
  to add yourself to the sudoers file:
    1. Become root
    2. visudo   # edits the /etc/sudoers using vim
    3. Add a line like "alan ALL=(ALL) ALL"         # e.g. for user 'alan'
    4. You can now act like root via the 'sudo' command
    5. Test using a command like "sudo date".  Enter your normal password (e.g. the 'alan'
    password), and it should work.

- Use 'chsh' to change shell from /bin/bash -> /bin/zsh

- Run ssh-keygen to regenerate ~/.ssh files (3 <ret> to accept default values)
  - Copy ~/.ssh/id_rsa.pub key to GitHub and BitBucket

- Clone repo's for ~/alan & ~/cool
  - cd ~/cool ; ./doLinks.zsh --force

To Do:
  Install software from list

Favorites - Added to tab under Fedora symbol
  Chrome, Konsole, GVim, KCalc, LibreOffice

Software to install
  cannon pixma mx922        - website + see notes file

-----------------------------------------------------------------------------
Tips:
  Ctrl+Alt+T => new terminal window (Unity)

-----------------------------------------------------------------------------
Install Ubuntu 15.10 Wily into a new VM in VirtualBox

Note the "Host" key is the RIGHT CTRL key (i.e. near the "?" key)
  Use Host+F (e.g. R-Ctrl + F) to toggle VBox in/out of full screen mode
  Use Host+L to toggle VBox in/out of Seamless mode (i.e. hides window at the bottom of screen)
    Use Host+Home to toggle VBox visibility of MenuBar
  Use Host+C to toggle VBox in/out of Scaled mode (i.e. window is resizable)

boot from the iso (virtual optical disk)
install ubuntu (user=alan  pass=secret)
  it may hang on reboot at the end of install - force reset/reboot if needed.

to resize screen larger than 1024x758, *** LOG INTO THE VM *** and do:
  sudo apt install virtualbox-guest-dkms
  sudo reboot
  you should now have all screen sizes available (e.g. 1920x1080) 
    - in the normal GUI: System Settings -> Displays -> Resolution 
    - thru the VirtualBox menu: View -> Virtual Screen 1 -> Resize to 1920x1080
  if you restart & get an error "Could not apply the stored configuration for monitors" in a large vertical pane
    in VBox menu View -> Virtual Screen 1 -> Resize to 1920x1080 (or R-click monitor icon in lower-right corner of window frame)
    kill the error msg pane by clicking the X in upper-left corner

General:
  power down VBox VM. In VBox gui, Settings -> General -> Advanced -> Shared Clipboard -> "Bidirectional" menu option -> "OK"

Needed to access shared folders from VBox: In the VBox menu choose: 
  Devices -> Install Guest Additions CD Image...
    pop-up click "Download" 
    pop-up "are you sure?" click "Download"
    pop-up "successfully downloaded", "Do you wish to register this disk image file and insert it
      into the virtual optical drive?" -> "Insert"
    pop-up: "VBOXADDITIONS_5.0.14_xxxxxx" contains sofware intended to be automatically started.
      Would you like to run it?  -> "Run"
    pop-up: Authentication is needed to run '/bin/sh' as super user -> enter password -> "Authenticate"
    terminal-window: Verifying archve integrity...(10 lines) Do you wish to continue anyway [yes or no] -> "yes"
    terminal-window: <many lines> "Press return to close this window" -> <return>
    > sudo poweroff (or just use the GUI to shutdown the VM)
  In the VBox GUI:  Settings -> Shared Folders -> Folder Add (e.g. "folder-plus" icon in top right)
    Folder Path -> <dropdown> -> "Other" -> <navigate to a folder like "~/vbox"> -> "Choose" button (bottom right)
    See "Folder Path" like "/home/alan/vbox" and "Folder Name" like "vbox". Defaults should be fine but you could edit
    Be sure to click "Auto-mount".  I would not bother with "Read-only" unless you need it for something
    When done, click "OK" button in pop-up
    Click "OK" button in settings dialog box
  Startup the VM in the VBox gui, login, kill display error msg pane
    Shared folders are mounted like removable media in the /media partition.  The folder name is prepended with "sf_".
    Open up the Ubuntu "File Navigator" from the Unity dock (looks like a file cabinate drawer).
    Select "Computer" from the manu pane and see like "sf_vbox" folder (icon like removeable media)
      Can also navigate to "removable drive" named like "sf_vbox" directly from menu pane
      Probably get error "This location could not be displayed" since it is owned by root.
      To see contents:  sudo ls -l /media/sf_vbox 
      Cannot fix with chown or chmod VBox ignores these cmds

Install VPN software for Ubuntu 
  sudo apt install -y vpnc kvpnc network-manager-vpnc racoon 
  copy CENX vpnc file: cp ~/cool/etc--vpnc--cenx.conf  -> /etc/vpnc/cenx.conf using shared folder
  sudo cp /media/sf_vbox/etc--vpnc--cenx.conf  /etc/vpnc/cenx.conf 
  ensure permissions are OK:  sudo chmod -R go-rwx /etc/vpnc
    should look like:
      > sudo ls -l /etc/vpnc
      -rw------- 1 root root 146 Feb 23 19:59 cenx.conf

  start vpn
    > sudo vpnc cenx --local-port 0 --domain ""
    Enter password for joe.programmer@xx.xx.xx.xxx:  <type user pass>
    Password for VPN joe.programmer@xx.xx.xx.xxx: <type vpn pass>
    result: "VPNC started in background (pid: xxxx)..."
    
  verify vpn (must have vpn working on host machine first!)
    alan@alan-VirtualBox:~$ ping nexus.cenx.localnet
    PING nexus.cenx.localnet (172.32.1.64) 56(84) bytes of data.        *** it found the right IP ***
    ^C  *** manually killed after 2 minutes ***
    --- nexus.cenx.localnet ping statistics ---
    136 packets transmitted, 0 received, 100% packet loss, time 136063ms

    alan@alan-VirtualBox:~$ ping 172.32.1.64                            *** ping the IP directly ***
    PING 172.32.1.64 (172.32.1.64) 56(84) bytes of data.    
    64 bytes from 172.32.1.64: icmp_seq=82 ttl=63 time=109 ms           *** it works after ~30 sec ***
    64 bytes from 172.32.1.64: icmp_seq=83 ttl=63 time=109 ms
    64 bytes from 172.32.1.64: icmp_seq=84 ttl=63 time=108 ms
    64 bytes from 172.32.1.64: icmp_seq=85 ttl=63 time=108 ms

    alan@alan-VirtualBox:~$ ping google.com                             *** no problem with outside servers ***
    PING google.com (74.125.226.6) 56(84) bytes of data.
    64 bytes from lga15s42-in-f6.1e100.net (74.125.226.6): icmp_seq=1 ttl=63 time=89.6 ms
    64 bytes from lga15s42-in-f6.1e100.net (74.125.226.6): icmp_seq=2 ttl=63 time=89.6 ms
    64 bytes from lga15s42-in-f6.1e100.net (74.125.226.6): icmp_seq=3 ttl=63 time=88.9 ms
    ^C
    --- google.com ping statistics ---
    4 packets transmitted, 4 received, 0% packet loss, time 3004ms
    rtt min/avg/max/mdev = 88.940/89.306/89.652/0.400 ms

  set up java
    make /opt look like this:
      d /opt/*
        lrwxrwxrwx 1 root root   12 Feb 25 21:31 /opt/java -> jdk1.8.0_72//
        drwxr-xr-x 8 alan alan 4096 Dec 22 22:13 /opt/jdk1.8.0_72/
        drwxr-xr-x 9 root root 4096 Feb 25 19:45 /opt/VBoxGuestAdditions-5.0.14/
    which java
      /opt/java/bin/java
    java -version
      java version "1.8.0_72"
      Java(TM) SE Runtime Environment (build 1.8.0_72-b15)
      Java HotSpot(TM) 64-Bit Server VM (build 25.72-b15, mixed mode)

  Set up ~/.bashrc:
    Add 4 lines to tail end of ~/.bashrc
      alias d="ls -ldF"
      export PATH=${HOME}/bin:${PATH}
      export JAVA_HOME=/opt/java
      export PATH=${JAVA_HOME}/bin:${PATH}
    source ~/.bashrc

  Set up lein:
    cd
    mkdir -p ~/bin
    curl https://raw.githubusercontent.com/technomancy/leiningen/stable/bin/lein > ~/bin/lein
    chmod u+rwx ~/bin/*
    d ~/bin/*
      -rwxrw-r-- 1 alan alan 12871 Feb 25 21:20 /home/alan/bin/lein*
    lein --version
      Leiningen 2.6.1 on Java 1.8.0_72 Java HotSpot(TM) 64-Bit Server VM

  Test working with bitbucket repo
    > ssh-keygen ...(normal stuff) -> copy ~/.ssh/id_rsa.pub to Bitbucket SSH keys through browser
    > git clone git@bitbucket.org:cenx-cf/parker.git
    ...<clone works>
    > cd parker
    > lein deps
      Retrieving lein-immutant/lein-immutant/2.0.0/lein-immutant-2.0.0.pom from nexus   *** note pinged nexus ***
      Retrieving org/clojure/tools.cli/0.3.1/tools.cli-0.3.1.pom from nexus
      Retrieving org/clojure/pom.contrib/0.1.2/pom.contrib-0.1.2.pom from nexus
      Retrieving org/sonatype/oss/oss-parent/7/oss-parent-7.pom from nexus
      Retrieving org/immutant/deploy-tools/2.0.4/deploy-tools-2.0.4.pom from nexus
      Retrieving org/immutant/fntest/2.0.4/fntest-2.0.4.pom from nexus
      <...and many more...>

  Install base docker stuff
    sudo apt install -y docker.io
    sudo docker --version
      Docker version 1.6.2, build 7c8fca2
  Go here and follow instructions for newest docker install: https://docs.docker.com/linux/step_one/
    curl -fsSL https://get.docker.com/ | sh
    sudo docker run hello-world
      Unable to find image 'hello-world:latest' locally
      latest: Pulling from library/hello-world
      03f4658f8b78: Pull complete 
      a3ed95caeb02: Pull complete 
      Digest: sha256:8be990ef2aeb16dbcb9271ddfe2610fa6658d13f6dfb8bc72074cc1ca36966a7
      Status: Downloaded newer image for hello-world:latest

      Hello from Docker.
      This message shows that your installation appears to be working correctly.
      ...<snip>...
    sudo docker --version
      Docker version 1.10.2, build c3959b1

  Go here & install docker-compose:  https://docs.docker.com/compose/install/
    sudo su
    curl -L https://github.com/docker/compose/releases/download/1.6.2/docker-compose-`uname -s`-`uname -m` > /usr/local/bin/docker-compose
        % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                       Dload  Upload   Total   Spent    Left  Speed
      100   600    0   600    0     0    854      0 --:--:-- --:--:-- --:--:--   853
      100 7743k  100 7743k    0     0  1060k      0  0:00:07  0:00:07 --:--:-- 1549k
    chmod +x /usr/local/bin/docker-compose
    ls -l /usr/local/bin/docker-compose
      -rwxr-xr-x 1 root root 7929597 Feb 25 21:51 /usr/local/bin/docker-compose
    exit   *** exit su privs ***
    sudo docker-compose --version                   *** run as ordinary user ***
      docker-compose version 1.6.2, build 4d72027   *** install succeeded ***

  *** Fix up /etc/systemd/system/docker.service.d/extra-flags.conf ***
    ...<continued>...
    sudo cat /etc/systemd/system/docker.service.d/extra-flags.conf
      [Service]
      ExecStart=
      ExecStart=/usr/bin/docker daemon -H fd://  --insecure-registry docker.cenx.localnet:5000 --insecure-registry docker-data.cenx.localnet:5000
    verify can see servers:
      ping docker.cenx.localnet
        PING docker.cenx.localnet (172.32.1.64) 56(84) bytes of data.
        64 bytes from 172.32.1.64: icmp_seq=1 ttl=63 time=106 ms
        64 bytes from 172.32.1.64: icmp_seq=2 ttl=63 time=107 ms
        64 bytes from 172.32.1.64: icmp_seq=3 ttl=63 time=106 ms
        ^C
        --- docker.cenx.localnet ping statistics ---
        3 packets transmitted, 3 received, 0% packet loss, time 2002ms
        rtt min/avg/max/mdev = 106.625/107.011/107.528/0.535 ms
      ping docker-data.cenx.localnet
        PING docker-data.cenx.localnet (172.16.24.175) 56(84) bytes of data.
        64 bytes from docker-data.cenx.localnet (172.16.24.175): icmp_seq=1 ttl=63 time=189 ms
        64 bytes from docker-data.cenx.localnet (172.16.24.175): icmp_seq=2 ttl=63 time=157 ms
        64 bytes from docker-data.cenx.localnet (172.16.24.175): icmp_seq=3 ttl=63 time=100 ms
        ^C
        --- docker-data.cenx.localnet ping statistics ---
        3 packets transmitted, 3 received, 0% packet loss, time 2003ms
        rtt min/avg/max/mdev = 100.992/149.504/189.726/36.699 ms

      sudo systemctl daemon-reload                          # flush changes
      sudo systemctl show docker --property Environment     # verify loaded -> observe new values present
      sudo systemctl restart docker                         # restart docker

  OMG it works!
    sudo docker pull docker.cenx.localnet:5000/zookeeper:latest
      Pulling repository docker.cenx.localnet:5000/zookeeper
      48343c4a0da7: Waiting 
      511136ea3c5a: Pull complete 
      782cf93a8f16: Pull complete 
      ...<snip>...

